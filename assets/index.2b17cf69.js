import{r as i,p as v,n as o,aP as _,aR as H,j as a,a2 as O,ct as M,a7 as R,aQ as V,B as J,d8 as z,bp as F,d9 as Q,f as U,a0 as y,a1 as l,cu as G}from"./index.3706b7ab.js";import{B as K}from"./index.63f1591f.js";import{A as T,S as X,a as Y,p as Z,v as ee,C as ae,e as te}from"./App.15c12863.js";/* empty css                    *//* empty css                            */import{_ as se}from"./react-apexcharts.min.14b97724.js";import{E as re}from"./edit.fd7b8c59.js";import{E as ne}from"./eye.8cba672e.js";import{C as oe}from"./check-circle.b6a85831.js";import{S as ie,A as le}from"./save.672ea441.js";import{I as ce}from"./info.ba73233f.js";import{C as de}from"./clock.a0d1c446.js";import{R as pe}from"./react-paginate.2919e521.js";import{Q as me}from"./react-dataTable-component.6450ce09.js";/* empty css                     */import{C as he}from"./chevron-down.866dd6eb.js";import{S as u}from"./StatsHorizontal.b44b76d1.js";import{B as ue}from"./book.dd758e88.js";import"./emotion-memoize.esm.06f0e458.js";var ge={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},ve=Object.defineProperty,fe=Object.defineProperties,xe=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,D=(e,t,s)=>t in e?ve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,I=(e,t)=>{for(var s in t||(t={}))j.call(t,s)&&D(e,s,t[s]);if(b)for(var s of b(t))L.call(t,s)&&D(e,s,t[s]);return e},ye=(e,t)=>fe(e,xe(t)),be=(e,t)=>{var s={};for(var n in e)j.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&b)for(var n of b(e))t.indexOf(n)<0&&L.call(e,n)&&(s[n]=e[n]);return s},C=(e,t,s)=>{const n=i.exports.forwardRef((c,S)=>{var h=c,{color:k="currentColor",size:d=24,stroke:N=2,children:m}=h,P=be(h,["color","size","stroke","children"]);return i.exports.createElement("svg",I(ye(I({ref:S},ge),{width:d,height:d,stroke:k,strokeWidth:N,className:`tabler-icon tabler-icon-${e}`}),P),[...s.map(([p,w])=>i.exports.createElement(p,w)),...m||[]])});return n.propTypes={color:v.exports.string,size:v.exports.oneOfType([v.exports.string,v.exports.number]),stroke:v.exports.oneOfType([v.exports.string,v.exports.number])},n.displayName=`${t}`,n},Ce=C("cash","IconCash",[["path",{d:"M7 9m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M14 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M17 9v-2a2 2 0 0 0 -2 -2h-10a2 2 0 0 0 -2 2v6a2 2 0 0 0 2 2h2",key:"svg-2"}]]),Se=C("coins","IconCoins",[["path",{d:"M9 14c0 1.657 2.686 3 6 3s6 -1.343 6 -3s-2.686 -3 -6 -3s-6 1.343 -6 3z",key:"svg-0"}],["path",{d:"M9 14v4c0 1.656 2.686 3 6 3s6 -1.344 6 -3v-4",key:"svg-1"}],["path",{d:"M3 6c0 1.072 1.144 2.062 3 2.598s4.144 .536 6 0c1.856 -.536 3 -1.526 3 -2.598c0 -1.072 -1.144 -2.062 -3 -2.598s-4.144 -.536 -6 0c-1.856 .536 -3 1.526 -3 2.598z",key:"svg-2"}],["path",{d:"M3 6v10c0 .888 .772 1.45 2 2",key:"svg-3"}],["path",{d:"M3 11c0 .888 .772 1.45 2 2",key:"svg-4"}]]),ke=C("moneybag","IconMoneybag",[["path",{d:"M9.5 3h5a1.5 1.5 0 0 1 1.5 1.5a3.5 3.5 0 0 1 -3.5 3.5h-1a3.5 3.5 0 0 1 -3.5 -3.5a1.5 1.5 0 0 1 1.5 -1.5z",key:"svg-0"}],["path",{d:"M4 17v-1a8 8 0 1 1 16 0v1a4 4 0 0 1 -4 4h-8a4 4 0 0 1 -4 -4z",key:"svg-1"}]]),Ne=C("wallet","IconWallet",[["path",{d:"M17 8v-3a1 1 0 0 0 -1 -1h-10a2 2 0 0 0 0 4h12a1 1 0 0 1 1 1v3m0 4v3a1 1 0 0 1 -1 1h-12a2 2 0 0 1 -2 -2v-12",key:"svg-0"}],["path",{d:"M20 12v4h-4a2 2 0 0 1 0 -4h4",key:"svg-1"}]]);const Pe=({direction:e,warning:t})=>o(_,{children:[o(H,{className:"d-flex flex-sm-row flex-column justify-content-md-between align-items-start justify-content-start",children:[o("div",{children:[a(O,{className:"mb-75",tag:"h4",children:"Sales Graph"}),a(M,{className:"text-muted",children:"Based on total sales "})]}),a("div",{className:"d-flex align-items-center flex-wrap mt-sm-0 mt-1",children:o(R,{className:"w-auto ",type:"select",children:[a("option",{value:"",children:"Select"}),a("option",{value:"downloaded",children:"Last 12 Months"}),a("option",{value:"draft",children:"Last 7 Days"}),a("option",{value:"paid",children:"Today"}),a("option",{value:"partial payment",children:"Custom Date"})]})})]}),a(V,{children:a(se,{options:{chart:{zoom:{enabled:!1},parentHeightOffset:0,toolbar:{show:!1}},markers:{strokeWidth:7,strokeOpacity:1,strokeColors:["#fff"],colors:[t]},dataLabels:{enabled:!1},stroke:{curve:"straight"},colors:[t],grid:{xaxis:{lines:{show:!0}}},tooltip:{custom(c){return`<div class='px-1 py-50'>
              <span>${c.series[c.seriesIndex][c.dataPointIndex]}%</span>
            </div>`}},xaxis:{categories:["January","February","March","April","May","June","July","August","September","October","November","December"]},yaxis:{opposite:e==="rtl"}},series:[{data:[0,0,500,1e3,2500,1e3,4e3,3e3,2e3,1e3,500,0]}],type:"line",height:400})})]}),x={Sent:{color:"light-secondary",icon:X},Paid:{color:"light-success",icon:oe},Draft:{color:"light-primary",icon:ie},Downloaded:{color:"light-info",icon:le},"Past Due":{color:"light-danger",icon:ce},"Partial Payment":{color:"light-warning",icon:de}},we=e=>{const t=Math.floor(Math.random()*6),s=["light-success","light-danger","light-warning","light-info","light-primary","light-secondary"],n=s[t];return e.avatar.length?a(T,{className:"me-50",img:e.avatar,width:"32",height:"32"}):a(T,{color:n,className:"me-50",content:e.client?e.client.name:"Bader",initials:!0})},Te=[{name:"#",sortable:!0,sortField:"id",minWidth:"107px",cell:e=>a("span",{to:`/apps/invoice/preview/${e.id}`,children:`#${e.id}`})},{sortable:!0,minWidth:"120px",sortField:"invoiceStatus",name:"Status",cell:e=>{const t=x[e.invoiceStatus]?x[e.invoiceStatus].color:"primary",s=x[e.invoiceStatus]?x[e.invoiceStatus].icon:re;return a(i.exports.Fragment,{children:a(T,{color:t,icon:a(s,{size:14}),id:`av-tooltip-${e.id}`})})}},{name:"Client",sortable:!0,minWidth:"350px",sortField:"client.name",cell:e=>{const t=e.client?e.client.name:"Bader",s=e.client?e.client.companyEmail:"bader@email.com";return o("div",{className:"d-flex justify-content-left align-items-center",children:[we(e),o("div",{className:"d-flex flex-column",children:[a("h6",{className:"user-name text-truncate mb-0",children:t}),a("small",{className:"text-truncate text-muted mb-0",children:s})]})]})}},{sortable:!0,name:"Restaurant",minWidth:"164px",sortField:"balance",cell:e=>e.balance!==0?a("span",{children:e.balance}):a(J,{color:"light-success",pill:!0,children:"Paid"})},{sortable:!0,minWidth:"200px",name:"Issued Date",sortField:"dueDate",cell:e=>e.dueDate},{name:"Total",sortable:!0,minWidth:"150px",sortField:"total",cell:e=>o("span",{children:["$",e.total||0]})},{name:"Actions",minWidth:"110px",cell:e=>a("div",{className:"column-action d-flex align-items-center",children:a("span",{to:`/apps/invoice/preview/${e.id}`,id:`pw-tooltip-${e.id}`,children:a(ne,{size:17,className:"mx-1"})})})}],g=z("appInvoice/getData",async e=>{const t=await F.get("/apps/invoice/invoices",e);return{params:e,data:t.data.invoices,allData:t.data.allData,totalPages:t.data.total}});z("appInvoice/deleteInvoice",async(e,{dispatch:t,getState:s})=>(await F.delete("/apps/invoice/delete",{id:e}),await t(g(s().invoice.params)),e));Q({name:"appInvoice",initialState:{data:[],total:1,params:{},allData:[]},reducers:{},extraReducers:e=>{e.addCase(g.fulfilled,(t,s)=>{t.data=s.payload.data,t.allData=s.payload.allData,t.total=s.payload.totalPages,t.params=s.payload.params})}});const De=({handleFilter:e,value:t})=>a("div",{className:"invoice-list-table-header w-100 py-2",children:o(y,{children:[a(l,{lg:"6",className:"d-flex align-items-center px-0 px-lg-1",children:o("div",{className:"align-items-center me-2",children:[a(O,{className:"mb-75",tag:"h4",children:"Recent Reservations"}),a(M,{className:"text-muted",children:"Use search and sort for better experiance"})]})}),a(l,{lg:"6",className:"actions-right d-flex align-items-center justify-content-lg-end flex-lg-nowrap flex-wrap mt-lg-0 mt-1 pe-lg-1 p-0",children:o("div",{className:"d-flex align-items-center",children:[a("label",{htmlFor:"search-invoice",children:"Search"}),a(R,{id:"search-invoice",className:"ms-50 me-2 w-100",type:"text",value:t,onChange:s=>e(s.target.value),placeholder:"Search..."})]})})]})}),Ie=()=>{const e=Y(),t=U(r=>r.invoice),[s,n]=i.exports.useState(""),[c,S]=i.exports.useState("desc"),[h,k]=i.exports.useState("id"),[d,N]=i.exports.useState(1),[m,P]=i.exports.useState(""),[p,w]=i.exports.useState(10);i.exports.useEffect(()=>{e(g({sort:c,q:s,sortColumn:h,page:d,perPage:p,status:m}))},[e,t.data.length]);const B=r=>{n(r),e(g({sort:c,q:r,sortColumn:h,page:d,perPage:p,status:m}))},W=r=>{e(g({sort:c,q:s,sortColumn:h,page:d,status:m,perPage:parseInt(r.target.value)})),w(parseInt(r.target.value))},$=r=>{P(r.target.value),e(g({sort:c,q:s,sortColumn:h,page:d,perPage:p,status:r.target.value}))},A=r=>{e(g({sort:c,q:s,sortColumn:h,status:m,perPage:p,page:r.selected+1})),N(r.selected+1)},E=()=>{const r=Number((t.total/p).toFixed(0));return a(pe,{nextLabel:"",breakLabel:"...",previousLabel:"",pageCount:r||1,activeClassName:"active",breakClassName:"page-item",pageClassName:"page-item",breakLinkClassName:"page-link",nextLinkClassName:"page-link",pageLinkClassName:"page-link",nextClassName:"page-item next",previousLinkClassName:"page-link",previousClassName:"page-item prev",onPageChange:f=>A(f),forcePage:d!==0?d-1:0,containerClassName:"pagination react-paginate justify-content-end p-1"})};return a("div",{className:"invoice-list-wrapper",children:a(_,{children:a("div",{className:"invoice-list-dataTable react-dataTable",children:a(me,{noHeader:!0,pagination:!0,sortServer:!0,paginationServer:!0,subHeader:!0,columns:Te,responsive:!0,onSort:(r,f)=>{S(f),k(r.sortField),e(g({q:s,page:d,sort:f,status:m,perPage:p,sortColumn:r.sortField}))},data:(()=>{const r={q:s,status:m},f=Object.keys(r).some(function(q){return r[q].length>0});return t.data.length>0?t.data:t.data.length===0&&f?[]:t.allData.slice(0,p)})(),sortIcon:a(he,{}),className:"react-dataTable",defaultSortField:"invoiceId",paginationDefaultPage:d,paginationComponent:E,subHeaderComponent:a(De,{value:s,statusValue:m,rowsPerPage:p,handleFilter:B,handlePerPage:W,handleStatusValue:$})})})})})},_e=()=>o(i.exports.Fragment,{children:[o(y,{children:[a(l,{lg:"3",sm:"6",children:a(u,{icon:a(Se,{size:24}),color:"secondary",stats:"8,549",statTitle:"Today Sales"})}),a(l,{lg:"3",sm:"6",children:a(u,{icon:a(ke,{size:24}),color:"secondary",stats:"230,000",statTitle:"Total Sales"})}),a(l,{lg:"3",sm:"6",children:a(u,{icon:a(Ce,{size:24}),color:"primary",stats:"1,423",statTitle:"Today Commission"})}),a(l,{lg:"3",sm:"6",children:a(u,{icon:a(Ne,{size:24}),color:"primary",stats:"9,745",statTitle:"Total Commission"})})]}),o(y,{children:[a(l,{lg:"3",sm:"6",children:a(u,{icon:a(Z,{size:21}),color:"info",stats:"56",statTitle:"Today Reservations"})}),a(l,{lg:"3",sm:"6",children:a(u,{icon:a(ue,{size:21}),color:"success",stats:"844",statTitle:"Total Reservations"})}),a(l,{lg:"3",sm:"6",children:a(u,{icon:a(ee,{size:21}),color:"warning",stats:"320",statTitle:"Users"})}),a(l,{lg:"3",sm:"6",children:a(u,{icon:a(ae,{size:21}),color:"danger",stats:"137",statTitle:"Restaurants"})})]})]}),Oe=()=>{const[e]=te(),{colors:t}=i.exports.useContext(G);return o(i.exports.Fragment,{children:[a(K,{title:"Dashboard",data:[{title:"Dashboard"}]}),o(y,{className:"match-height",children:[a(l,{Col:!0,xs:"12",children:a(_e,{})}),a(l,{sm:"12",children:a(Pe,{direction:e?"rtl":"ltr",warning:t.warning.main})}),a(l,{xs:"12",children:a(Ie,{})})]})]})},Ze=()=>a("div",{children:a(Oe,{})});export{Ze as default};
