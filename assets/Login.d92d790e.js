import{y as k,r as C,J as j,j as e,n as a,a0 as E,L as m,$ as T,a1 as d,a2 as z,a3 as F,a4 as L,a5 as I,a6 as h,a7 as p,a8 as R,A as o,a9 as S,aa as M,ab as b}from"./index.c4f4686b.js";import{u as A,a as D,g as P,A as $,C as B,X as Y}from"./App.6bb83c43.js";import{u as U,C as f}from"./index.esm.2872fe53.js";import{I as H}from"./index.026a782f.js";import{i as J}from"./login-v2.3510eef3.js";/* empty css                            */import{I as O}from"./instagram.b7899c5f.js";import{T as V}from"./twitter.5a7f45ae.js";import{Y as W}from"./youtube.51429c8c.js";import{M as X}from"./mail.5708313c.js";import"./eye.6e81f589.js";import"./eye-off.b927ab01.js";const _=""+new URL("login-v2.3c8d4f5f.jpg",import.meta.url).href,q=({t:n,name:t,role:c})=>a("div",{className:"d-flex",children:[e("div",{className:"me-1",children:e($,{size:"sm",color:"success",icon:e(B,{size:12})})}),a("div",{className:"d-flex flex-column",children:[a("div",{className:"d-flex justify-content-between",children:[e("h6",{children:t}),e(Y,{size:12,className:"cursor-pointer",onClick:()=>b.dismiss(n.id)})]}),a("span",{children:["You have successfully logged in as an ",c," user to Reserve Me. Enjoy!"]})]})]}),G={password:"admin",loginEmail:"admin@demo.com"},ce=()=>{const{skin:n}=A(),t=D(),c=k(),N=C.exports.useContext(j),{control:u,setError:g,handleSubmit:v,formState:{errors:i}}=U({defaultValues:G}),x=n==="dark"?_:J,w=s=>{if(Object.values(s).every(r=>r.length>0))S.login({email:s.loginEmail,password:s.password}).then(r=>{const l={...r.data.userData,accessToken:r.data.accessToken,refreshToken:r.data.refreshToken};t(M(l)),N.update(r.data.userData.ability),c(P(l.role)),b(y=>e(q,{t:y,role:l.role||"admin",name:l.fullName||l.username||"Bader"}))}).catch(r=>g("loginEmail",{type:"manual",message:r.response.data.error}));else for(const r in s)s[r].length===0&&g(r,{type:"manual"})};return e("div",{className:"auth-wrapper auth-cover",children:a(E,{className:"auth-inner m-0",children:[a(m,{className:"brand-logo",to:"/",onClick:s=>s.preventDefault(),children:[e("img",{src:T,width:"30",height:"30"}),e("h2",{className:"ms-1",style:{color:"white"},children:"Reserve Me"})]}),e(d,{className:"d-none d-lg-flex align-items-center p-5",lg:"8",sm:"12",style:{backgroundImage:`url(${x})`,backgroundSize:"cover",backgroundPosition:"center"},children:e("div",{className:"w-100 d-lg-flex align-items-center justify-content-center px-5"})}),e(d,{className:"d-flex align-items-center auth-bg px-2 p-lg-5",lg:"4",sm:"12",children:a(d,{className:"px-xl-2 mx-auto",sm:"8",md:"6",lg:"12",children:[e(z,{tag:"h2",className:"fw-bold mb-1",children:"Welcome to Reserve Me! \u{1F44B}"}),e(F,{className:"mb-2",children:"Please sign-in to your account and start the adventure."}),e(L,{color:"primary",children:e("div",{className:"alert-body font-small-2",children:e("p",{children:e("small",{className:"me-50",children:"admin@demo.com | admin"})})})}),a(I,{className:"auth-login-form mt-2",onSubmit:v(w),children:[a("div",{className:"mb-1",children:[e(h,{className:"form-label",for:"login-email",children:"Email"}),e(f,{id:"loginEmail",name:"loginEmail",control:u,render:({field:s})=>e(p,{autoFocus:!0,type:"email",placeholder:"bader@example.com",invalid:i.loginEmail&&!0,...s})}),i.loginEmail&&e(R,{children:i.loginEmail.message})]}),a("div",{className:"mb-1",children:[a("div",{className:"d-flex justify-content-between",children:[e(h,{className:"form-label",for:"login-password",children:"Password"}),e(m,{to:"/forgot-password",children:e("small",{children:"Forgot Password?"})})]}),e(f,{id:"password",name:"password",control:u,render:({field:s})=>e(H,{className:"input-group-merge",invalid:i.password&&!0,...s})})]}),a("div",{className:"form-check mb-1",children:[e(p,{type:"checkbox",id:"remember-me"}),e(h,{className:"form-check-label",for:"remember-me",children:"Remember Me"})]}),e(o,{type:"submit",color:"primary",block:!0,children:"Sign in"})]}),a("p",{className:"text-center mt-2",children:[e("span",{className:"me-25",children:"New on our platform?"}),e(m,{to:"/register",children:e("span",{children:"Create an account"})})]}),e("div",{className:"divider my-2",children:e("div",{className:"divider-text",children:"or"})}),a("div",{className:"auth-footer-btn d-flex justify-content-center",children:[e(o,{color:"instagram",children:e(O,{size:14})}),e(o,{color:"twitter",children:e(V,{size:14})}),e(o,{color:"google",children:e(W,{size:14})}),e(o,{className:"me-0",color:"tumblr",children:e(X,{size:14})})]})]})})]})})};export{ce as default};
