import{r as f,aK as Oe,aN as ke,aM as Fe,i as ae,d as _,n as Pe,j as R}from"./index.6fe50bb5.js";import{_ as W}from"./App.cb24265c.js";import{_ as at}from"./objectWithoutProperties.c46f5304.js";var r={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){var n=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||n>=r.F1&&n<=r.F12)return!1;switch(n){case r.ALT:case r.CAPS_LOCK:case r.CONTEXT_MENU:case r.CTRL:case r.DOWN:case r.END:case r.ESC:case r.HOME:case r.INSERT:case r.LEFT:case r.MAC_FF_META:case r.META:case r.NUMLOCK:case r.NUM_CENTER:case r.PAGE_DOWN:case r.PAGE_UP:case r.PAUSE:case r.PRINT_SCREEN:case r.RIGHT:case r.SHIFT:case r.UP:case r.WIN_KEY:case r.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(t){if(t>=r.ZERO&&t<=r.NINE||t>=r.NUM_ZERO&&t<=r.NUM_MULTIPLY||t>=r.A&&t<=r.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&t===0)return!0;switch(t){case r.SPACE:case r.QUESTION_MARK:case r.NUM_PLUS:case r.NUM_MINUS:case r.NUM_PERIOD:case r.NUM_DIVISION:case r.SEMICOLON:case r.DASH:case r.EQUALS:case r.COMMA:case r.PERIOD:case r.SLASH:case r.APOSTROPHE:case r.SINGLE_QUOTE:case r.OPEN_SQUARE_BRACKET:case r.BACKSLASH:case r.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};function it(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var xe=it()?f.exports.useLayoutEffect:f.exports.useEffect,re=function(t,n){var a=f.exports.useRef(!0);xe(function(){if(!a.current)return t()},n),xe(function(){return a.current=!1,function(){a.current=!0}},[])};function ut(e,t){typeof e=="function"?e(t):Oe(e)==="object"&&e&&"current"in e&&(e.current=t)}function ot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t.filter(function(u){return u});return a.length<=1?a[0]:function(u){t.forEach(function(c){ut(c,u)})}}function ie(){return typeof BigInt=="function"}function M(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),t.startsWith(".")&&(t="0".concat(t));var a=t||"0",u=a.split("."),c=u[0]||"0",g=u[1]||"0";c==="0"&&g==="0"&&(n=!1);var d=n?"-":"";return{negative:n,negativeStr:d,trimStr:a,integerStr:c,decimalStr:g,fullStr:"".concat(d).concat(a)}}function oe(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function H(e){var t=String(e);if(oe(e)){var n=Number(t.slice(t.indexOf("e-")+2)),a=t.match(/\.(\d+)/);return a!=null&&a[1]&&(n+=a[1].length),n}return t.includes(".")&&se(t)?t.length-t.indexOf(".")-1:0}function Q(e){var t=String(e);if(oe(e)){if(e>Number.MAX_SAFE_INTEGER)return String(ie()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(ie()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(H(t))}return M(t).fullStr}function se(e){return typeof e=="number"?!Number.isNaN(e):e?/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e):!1}function Ae(e){var t=typeof e=="number"?Q(e):M(e).fullStr,n=t.includes(".");return n?M(t.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}var st=function(){function e(t){if(Fe(this,e),this.origin="",this.number=void 0,this.empty=void 0,!t&&t!==0||!String(t).trim()){this.empty=!0;return}this.origin=String(t),this.number=Number(t)}return ke(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(n){if(this.isInvalidate())return new e(n);var a=Number(n);if(Number.isNaN(a))return this;var u=this.number+a;if(u>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(u<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var c=Math.max(H(this.number),H(a));return new e(u.toFixed(c))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toNumber()===(n==null?void 0:n.toNumber())}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":Q(this.number):this.origin}}]),e}(),ct=function(){function e(t){if(Fe(this,e),this.origin="",this.negative=void 0,this.integer=void 0,this.decimal=void 0,this.decimalLen=void 0,this.empty=void 0,this.nan=void 0,!t&&t!==0||!String(t).trim()){this.empty=!0;return}if(this.origin=String(t),t==="-"){this.nan=!0;return}var n=t;if(oe(n)&&(n=Number(n)),n=typeof n=="string"?n:Q(n),se(n)){var a=M(n);this.negative=a.negative;var u=a.trimStr.split(".");this.integer=BigInt(u[0]);var c=u[1]||"0";this.decimal=BigInt(c),this.decimalLen=c.length}else this.nan=!0}return ke(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(n){var a="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(n,"0"));return BigInt(a)}},{key:"negate",value:function(){var n=new e(this.toString());return n.negative=!n.negative,n}},{key:"add",value:function(n){if(this.isInvalidate())return new e(n);var a=new e(n);if(a.isInvalidate())return this;var u=Math.max(this.getDecimalStr().length,a.getDecimalStr().length),c=this.alignDecimal(u),g=a.alignDecimal(u),d=(c+g).toString(),N=M(d),E=N.negativeStr,m=N.trimStr,p="".concat(E).concat(m.padStart(u+1,"0"));return new e("".concat(p.slice(0,-u),".").concat(p.slice(-u)))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toString()===(n==null?void 0:n.toString())}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":M("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}();function h(e){return ie()?new ct(e):new st(e)}function $(e,t,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e==="")return"";var u=M(e),c=u.negativeStr,g=u.integerStr,d=u.decimalStr,N="".concat(t).concat(d),E="".concat(c).concat(g);if(n>=0){var m=Number(d[n]);if(m>=5&&!a){var p=h(e).add("".concat(c,"0.").concat("0".repeat(n)).concat(10-m));return $(p.toString(),t,n,a)}return n===0?E:"".concat(E).concat(t).concat(d.padEnd(n,"0").slice(0,n))}return N===".0"?E:"".concat(E).concat(N)}const lt=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};var ft=200,dt=600;function mt(e){var t=e.prefixCls,n=e.upNode,a=e.downNode,u=e.upDisabled,c=e.downDisabled,g=e.onStep,d=f.exports.useRef(),N=f.exports.useRef();N.current=g;var E=function(y,B){y.preventDefault(),N.current(B);function O(){N.current(B),d.current=setTimeout(O,ft)}d.current=setTimeout(O,dt)},m=function(){clearTimeout(d.current)};if(f.exports.useEffect(function(){return m},[]),lt())return null;var p="".concat(t,"-handler"),S=ae(p,"".concat(p,"-up"),_({},"".concat(p,"-up-disabled"),u)),w=ae(p,"".concat(p,"-down"),_({},"".concat(p,"-down-disabled"),c)),x={unselectable:"on",role:"button",onMouseUp:m,onMouseLeave:m};return Pe("div",{className:"".concat(p,"-wrap"),children:[R("span",{...x,onMouseDown:function(y){E(y,!0)},"aria-label":"Increase Value","aria-disabled":u,className:S,children:n||R("span",{unselectable:"on",className:"".concat(t,"-handler-up-inner")})}),R("span",{...x,onMouseDown:function(y){E(y,!1)},"aria-label":"Decrease Value","aria-disabled":c,className:w,children:a||R("span",{unselectable:"on",className:"".concat(t,"-handler-down-inner")})})]})}var Ce={};function vt(e,t){}function gt(e,t,n){!t&&!Ce[n]&&(e(!1,n),Ce[n]=!0)}function pt(e,t){gt(vt,e,t)}function Nt(e,t){var n=f.exports.useRef(null);function a(){try{var c=e.selectionStart,g=e.selectionEnd,d=e.value,N=d.substring(0,c),E=d.substring(g);n.current={start:c,end:g,value:d,beforeTxt:N,afterTxt:E}}catch{}}function u(){if(e&&n.current&&t)try{var c=e.value,g=n.current,d=g.beforeTxt,N=g.afterTxt,E=g.start,m=c.length;if(c.endsWith(N))m=c.length-n.current.afterTxt.length;else if(c.startsWith(d))m=d.length;else{var p=d[E-1],S=c.indexOf(p,E-1);S!==-1&&(m=S+1)}e.setSelectionRange(m,m)}catch(w){pt(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(w.message))}}return[a,u]}var Le=function(t){return+setTimeout(t,16)},Ve=function(t){return clearTimeout(t)};typeof window<"u"&&"requestAnimationFrame"in window&&(Le=function(t){return window.requestAnimationFrame(t)},Ve=function(t){return window.cancelAnimationFrame(t)});var De=0,ce=new Map;function Ke(e){ce.delete(e)}var ue=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;De+=1;var a=De;function u(c){if(c===0)Ke(a),t();else{var g=Le(function(){u(c-1)});ce.set(a,g)}}return u(n),a};ue.cancel=function(e){var t=ce.get(e);return Ke(t),Ve(t)};const Et=function(){var e=f.exports.useRef(0),t=function(){ue.cancel(e.current)};return f.exports.useEffect(function(){return t},[]),function(n){t(),e.current=ue(function(){n()})}};var St=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","controls","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep"],Te=function(t,n){return t||n.isEmpty()?n.toString():n.toNumber()},Ue=function(t){var n=h(t);return n.isInvalidate()?null:n},ht=f.exports.forwardRef(function(e,t){var n,a=e.prefixCls,u=a===void 0?"rc-input-number":a,c=e.className,g=e.style,d=e.min,N=e.max,E=e.step,m=E===void 0?1:E,p=e.defaultValue,S=e.value,w=e.disabled,x=e.readOnly,U=e.upHandler,y=e.downHandler,B=e.keyboard,O=e.controls,He=O===void 0?!0:O,le=e.stringMode,q=e.parser,k=e.formatter,A=e.precision,C=e.decimalSeparator,j=e.onChange,z=e.onInput,X=e.onPressEnter,Y=e.onStep,Be=at(e,St),fe="".concat(u,"-input"),G=f.exports.useRef(null),qe=f.exports.useState(!1),de=W(qe,2),me=de[0],ve=de[1],b=f.exports.useRef(!1),F=f.exports.useRef(!1),P=f.exports.useRef(!1),Ge=f.exports.useState(function(){return h(S!=null?S:p)}),ge=W(Ge,2),v=ge[0],pe=ge[1];function We(o){S===void 0&&pe(o)}var Z=f.exports.useCallback(function(o,i){if(!i)return A>=0?A:Math.max(H(o),H(m))},[A,m]),J=f.exports.useCallback(function(o){var i=String(o);if(q)return q(i);var l=i;return C&&(l=l.replace(C,".")),l.replace(/[^\w.-]+/g,"")},[q,C]),Ne=f.exports.useRef(""),Ee=f.exports.useCallback(function(o,i){if(k)return k(o,{userTyping:i,input:String(Ne.current)});var l=typeof o=="number"?Q(o):o;if(!i){var s=Z(l,i);if(se(l)&&(C||s>=0)){var I=C||".";l=$(l,I,s)}}return l},[k,Z,C]),$e=f.exports.useState(function(){var o=p!=null?p:S;return v.isInvalidate()&&["string","number"].includes(Oe(o))?Number.isNaN(o)?"":o:Ee(v.toString(),!1)}),Se=W($e,2),L=Se[0],he=Se[1];Ne.current=L;function V(o,i){he(Ee(o.isInvalidate()?o.toString(!1):o.toString(!i),i))}var D=f.exports.useMemo(function(){return Ue(N)},[N,A]),T=f.exports.useMemo(function(){return Ue(d)},[d,A]),Ie=f.exports.useMemo(function(){return!D||!v||v.isInvalidate()?!1:D.lessEquals(v)},[D,v]),be=f.exports.useMemo(function(){return!T||!v||v.isInvalidate()?!1:v.lessEquals(T)},[T,v]),Qe=Nt(G.current,me),we=W(Qe,2),je=we[0],ze=we[1],ye=function(i){return D&&!i.lessEquals(D)?D:T&&!T.lessEquals(i)?T:null},ee=function(i){return!ye(i)},te=function(i,l){var s=i,I=ee(s)||s.isEmpty();if(!s.isEmpty()&&!l&&(s=ye(s)||s,I=!0),!x&&!w&&I){var K=s.toString(),ne=Z(K,l);return ne>=0&&(s=h($(K,".",ne)),ee(s)||(s=h($(K,".",ne,!0)))),s.equals(v)||(We(s),j==null||j(s.isEmpty()?null:Te(le,s)),S===void 0&&V(s,l)),s}return v},Xe=Et(),_e=function o(i){if(je(),he(i),!F.current){var l=J(i),s=h(l);s.isNaN()||te(s,!0)}z==null||z(i),Xe(function(){var I=i;q||(I=i.replace(/。/g,".")),I!==i&&o(I)})},Ye=function(){F.current=!0},Ze=function(){F.current=!1,_e(G.current.value)},Je=function(i){_e(i.target.value)},Re=function(i){var l;if(!(i&&Ie||!i&&be)){b.current=!1;var s=h(P.current?Ae(m):m);i||(s=s.negate());var I=(v||h(0)).add(s.toString()),K=te(I,!1);Y==null||Y(Te(le,K),{offset:P.current?Ae(m):m,type:i?"up":"down"}),(l=G.current)===null||l===void 0||l.focus()}},Me=function(i){var l=h(J(L)),s=l;l.isNaN()?s=v:s=te(l,i),S!==void 0?V(v,!1):s.isNaN()||V(s,!1)},et=function(){b.current=!0},tt=function(i){var l=i.which,s=i.shiftKey;b.current=!0,s?P.current=!0:P.current=!1,l===r.ENTER&&(F.current||(b.current=!1),Me(!1),X==null||X(i)),B!==!1&&!F.current&&[r.UP,r.DOWN].includes(l)&&(Re(r.UP===l),i.preventDefault())},nt=function(){b.current=!1,P.current=!1},rt=function(){Me(!1),ve(!1),b.current=!1};return re(function(){v.isInvalidate()||V(v,!1)},[A]),re(function(){var o=h(S);pe(o);var i=h(J(L));(!o.equals(i)||!b.current||k)&&V(o,b.current)},[S]),re(function(){k&&ze()},[L]),Pe("div",{className:ae(u,c,(n={},_(n,"".concat(u,"-focused"),me),_(n,"".concat(u,"-disabled"),w),_(n,"".concat(u,"-readonly"),x),_(n,"".concat(u,"-not-a-number"),v.isNaN()),_(n,"".concat(u,"-out-of-range"),!v.isInvalidate()&&!ee(v)),n)),style:g,onFocus:function(){ve(!0)},onBlur:rt,onKeyDown:tt,onKeyUp:nt,onCompositionStart:Ye,onCompositionEnd:Ze,onBeforeInput:et,children:[He&&R(mt,{prefixCls:u,upNode:U,downNode:y,upDisabled:Ie,downDisabled:be,onStep:Re}),R("div",{className:"".concat(fe,"-wrap"),children:R("input",{autoComplete:"off",role:"spinbutton","aria-valuemin":d,"aria-valuemax":N,"aria-valuenow":v.isInvalidate()?null:v.toString(),step:m,...Be,ref:ot(G,t),className:fe,value:L,onChange:Je,disabled:w,readOnly:x})})]})});ht.displayName="InputNumber";export{ht as I};
